<?xml version="1.0" encoding="UTF-8"?>
<!--
 ! Project home: https://github.com/jaxio/celerio-angular-quickstart
 ! 
 ! Source code generated by Celerio, an Open Source code generator by Jaxio.
 ! Documentation: http://www.jaxio.com/documentation/celerio/
 ! Modificado por CARLOS BAZALAR
 ! Email: cbazalarlarosa@gmail.com
 ! Template pack-angular:src/main/java/mapper/EntityXMLMapper.xml.e.vm
-->

<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.incloud.hcp.mapper.FacFacturaMapper">

<resultMap id="facFacturaResultMap" type="com.incloud.hcp.domain.FacFactura">
	<id property="id" jdbcType="INTEGER" column="fac_factura_id" />
	<result property="serieFactura" jdbcType="VARCHAR" column="serie_factura" />	
	<result property="numeroFactura" jdbcType="VARCHAR" column="numero_factura" />	
	<result property="mtrEstado.id" jdbcType="INTEGER" column="mtr_estado_id" />
	<result property="mtrProveedor.id" jdbcType="INTEGER" column="mtr_proveedor_id" />
	<result property="mtrMoneda.id" jdbcType="INTEGER" column="mtr_moneda_id" />
	<result property="facContacto.id" jdbcType="INTEGER" column="fac_contacto_id" />
	<result property="mtrDetraccion.id" jdbcType="INTEGER" column="mtr_detraccion_id" />
	<result property="tipoFactura" jdbcType="VARCHAR" column="tipo_factura" />	
	<result property="tipoComprobanteFactura" jdbcType="VARCHAR" column="tipo_comprobante_factura" />	
	<result property="monto" jdbcType="NUMERIC" column="monto" />
	<result property="montoOtrosCargos" jdbcType="NUMERIC" column="monto_otros_cargos" />
	<result property="montoIgv" jdbcType="NUMERIC" column="monto_igv" />
	<result property="montoFinal" jdbcType="NUMERIC" column="monto_final" />
	<result property="glosa" jdbcType="VARCHAR" column="glosa" />	
	<result property="fechaFactura" jdbcType="TIMESTAMP" column="fecha_factura" />
	<result property="fechaEmision" jdbcType="TIMESTAMP" column="fecha_emision" />
	<result property="fechaCreacion" jdbcType="TIMESTAMP" column="fecha_creacion" />
	<result property="existeContrato" jdbcType="VARCHAR" column="existe_contrato" />	
	<result property="estadoRetornoSunat" jdbcType="VARCHAR" column="estado_retorno_sunat" />	
	<result property="detalleServicio" jdbcType="VARCHAR" column="detalle_servicio" />	
	<result property="indicadorConCertificado" jdbcType="VARCHAR" column="indicador_con_certificado" />	
	<result property="concepto" jdbcType="VARCHAR" column="concepto" />	
	<result property="codigoCorrelativoAdjunto" jdbcType="VARCHAR" column="codigo_correlativo_adjunto" />	
	<result property="estado" jdbcType="VARCHAR" column="estado" />	
	<result property="mtrSociedad.id" jdbcType="INTEGER" column="mtr_sociedad_id" />
	<result property="fechaEstimadaPago" jdbcType="TIMESTAMP" column="fecha_estimada_pago" />
	<result property="fechaPago" jdbcType="TIMESTAMP" column="fecha_pago" />
	<result property="fechaAprobacion" jdbcType="TIMESTAMP" column="fecha_aprobacion" />
</resultMap>


<select id="getLista" parameterType="com.incloud.hcp.domain.FacFactura" resultMap="facFacturaResultMap">
	SELECT 
      fac_factura_id , 
      serie_factura , 
      numero_factura , 
      mtr_estado_id , 
      mtr_proveedor_id , 
      mtr_moneda_id , 
      fac_contacto_id , 
      mtr_detraccion_id , 
      tipo_factura , 
      tipo_comprobante_factura , 
      monto , 
      monto_otros_cargos , 
      monto_igv , 
      monto_final , 
      glosa , 
      fecha_factura , 
      fecha_emision , 
      fecha_creacion , 
      existe_contrato , 
      estado_retorno_sunat , 
      detalle_servicio , 
      indicador_con_certificado , 
      concepto , 
      codigo_correlativo_adjunto , 
      estado , 
      mtr_sociedad_id , 
      fecha_estimada_pago , 
      fecha_pago , 
      fecha_aprobacion 
	FROM
	fac_factura
	WHERE 1 = 1
	<if test="id != null ">
		AND fac_factura_id = #{id, jdbcType=INTEGER}
	</if>	
	<if test="serieFactura != null and serieFactura != '' ">
		AND serie_factura = #{serieFactura}
	</if>	
	<if test="numeroFactura != null and numeroFactura != '' ">
		AND numero_factura = #{numeroFactura}
	</if>	
	<if test="mtrEstado != null and mtrEstado.id != null">
		AND mtr_estado_id = #{mtrEstado.id, jdbcType=INTEGER}
	</if>	
	<if test="mtrProveedor != null and mtrProveedor.id != null">
		AND mtr_proveedor_id = #{mtrProveedor.id, jdbcType=INTEGER}
	</if>	
	<if test="mtrMoneda != null and mtrMoneda.id != null">
		AND mtr_moneda_id = #{mtrMoneda.id, jdbcType=INTEGER}
	</if>	
	<if test="facContacto != null and facContacto.id != null">
		AND fac_contacto_id = #{facContacto.id, jdbcType=INTEGER}
	</if>	
	<if test="mtrDetraccion != null and mtrDetraccion.id != null">
		AND mtr_detraccion_id = #{mtrDetraccion.id, jdbcType=INTEGER}
	</if>	
	<if test="tipoFactura != null and tipoFactura != '' ">
		AND tipo_factura = #{tipoFactura}
	</if>	
	<if test="tipoComprobanteFactura != null and tipoComprobanteFactura != '' ">
		AND tipo_comprobante_factura = #{tipoComprobanteFactura}
	</if>	
	<if test="monto != null ">
		AND monto = #{monto, jdbcType=NUMERIC}
	</if>	
	<if test="montoOtrosCargos != null ">
		AND monto_otros_cargos = #{montoOtrosCargos, jdbcType=NUMERIC}
	</if>	
	<if test="montoIgv != null ">
		AND monto_igv = #{montoIgv, jdbcType=NUMERIC}
	</if>	
	<if test="montoFinal != null ">
		AND monto_final = #{montoFinal, jdbcType=NUMERIC}
	</if>	
	<if test="glosa != null and glosa != '' ">
		AND glosa = #{glosa}
	</if>	
	<if test="fechaFactura != null ">
		AND fecha_factura = #{fechaFactura, jdbcType=DATE}
	</if>
	<if test="fechaEmision != null ">
		AND fecha_emision = #{fechaEmision, jdbcType=DATE}
	</if>
	<if test="fechaCreacion != null ">
		AND fecha_creacion = #{fechaCreacion, jdbcType=DATE}
	</if>
	<if test="existeContrato != null and existeContrato != '' ">
		AND existe_contrato = #{existeContrato}
	</if>	
	<if test="estadoRetornoSunat != null and estadoRetornoSunat != '' ">
		AND estado_retorno_sunat = #{estadoRetornoSunat}
	</if>	
	<if test="detalleServicio != null and detalleServicio != '' ">
		AND detalle_servicio = #{detalleServicio}
	</if>	
	<if test="indicadorConCertificado != null and indicadorConCertificado != '' ">
		AND indicador_con_certificado = #{indicadorConCertificado}
	</if>	
	<if test="concepto != null and concepto != '' ">
		AND concepto = #{concepto}
	</if>	
	<if test="codigoCorrelativoAdjunto != null and codigoCorrelativoAdjunto != '' ">
		AND codigo_correlativo_adjunto = #{codigoCorrelativoAdjunto}
	</if>	
	<if test="estado != null and estado != '' ">
		AND estado = #{estado}
	</if>	
	<if test="mtrSociedad != null and mtrSociedad.id != null">
		AND mtr_sociedad_id = #{mtrSociedad.id, jdbcType=INTEGER}
	</if>	
	<if test="fechaEstimadaPago != null ">
		AND fecha_estimada_pago = #{fechaEstimadaPago, jdbcType=DATE}
	</if>
	<if test="fechaPago != null ">
		AND fecha_pago = #{fechaPago, jdbcType=DATE}
	</if>
	<if test="fechaAprobacion != null ">
		AND fecha_aprobacion = #{fechaAprobacion, jdbcType=DATE}
	</if>
</select>

<insert id="insertBean" >
INSERT INTO  fac_factura(
fac_factura_id , 
serie_factura , 
numero_factura , 
mtr_estado_id , 
mtr_proveedor_id , 
mtr_moneda_id , 
fac_contacto_id , 
mtr_detraccion_id , 
tipo_factura , 
tipo_comprobante_factura , 
monto , 
monto_otros_cargos , 
monto_igv , 
monto_final , 
glosa , 
fecha_factura , 
fecha_emision , 
fecha_creacion , 
existe_contrato , 
estado_retorno_sunat , 
detalle_servicio , 
indicador_con_certificado , 
concepto , 
codigo_correlativo_adjunto , 
estado , 
mtr_sociedad_id , 
fecha_estimada_pago , 
fecha_pago , 
fecha_aprobacion 
)
VALUES
(
#{id} , 
#{serieFactura} , 
#{numeroFactura} , 
#{mtrEstado.id} , 
#{mtrProveedor.id} , 
#{mtrMoneda.id} , 
#{facContacto.id} , 
#{mtrDetraccion.id} , 
#{tipoFactura} , 
#{tipoComprobanteFactura} , 
#{monto} , 
#{montoOtrosCargos} , 
#{montoIgv} , 
#{montoFinal} , 
#{glosa} , 
#{fechaFactura} , 
#{fechaEmision} , 
#{fechaCreacion} , 
#{existeContrato} , 
#{estadoRetornoSunat} , 
#{detalleServicio} , 
#{indicadorConCertificado} , 
#{concepto} , 
#{codigoCorrelativoAdjunto} , 
#{estado} , 
#{mtrSociedad.id} , 
#{fechaEstimadaPago} , 
#{fechaPago} , 
#{fechaAprobacion} 
)

</insert>

<insert id="insertMap" parameterType="java.util.Map" >
INSERT INTO  fac_factura(
fac_factura_id , 
serie_factura , 
numero_factura , 
mtr_estado_id , 
mtr_proveedor_id , 
mtr_moneda_id , 
fac_contacto_id , 
mtr_detraccion_id , 
tipo_factura , 
tipo_comprobante_factura , 
monto , 
monto_otros_cargos , 
monto_igv , 
monto_final , 
glosa , 
fecha_factura , 
fecha_emision , 
fecha_creacion , 
existe_contrato , 
estado_retorno_sunat , 
detalle_servicio , 
indicador_con_certificado , 
concepto , 
codigo_correlativo_adjunto , 
estado , 
mtr_sociedad_id , 
fecha_estimada_pago , 
fecha_pago , 
fecha_aprobacion 
)
(
<foreach collection="list" item="element" index="index" separator=" UNION ">  
SELECT
#{element.id} , 
#{element.serieFactura} , 
#{element.numeroFactura} , 
#{element.mtrEstado.id} , 
#{element.mtrProveedor.id} , 
#{element.mtrMoneda.id} , 
#{element.facContacto.id} , 
#{element.mtrDetraccion.id} , 
#{element.tipoFactura} , 
#{element.tipoComprobanteFactura} , 
#{element.monto} , 
#{element.montoOtrosCargos} , 
#{element.montoIgv} , 
#{element.montoFinal} , 
#{element.glosa} , 
#{element.fechaFactura} , 
#{element.fechaEmision} , 
#{element.fechaCreacion} , 
#{element.existeContrato} , 
#{element.estadoRetornoSunat} , 
#{element.detalleServicio} , 
#{element.indicadorConCertificado} , 
#{element.concepto} , 
#{element.codigoCorrelativoAdjunto} , 
#{element.estado} , 
#{element.mtrSociedad.id} , 
#{element.fechaEstimadaPago} , 
#{element.fechaPago} , 
#{element.fechaAprobacion} 
from dual

</foreach>    
)

</insert>


<update id="updateBean">
    UPDATE fac_factura
    <set>
	<if test="serieFactura != null and serieFactura != '' ">
		serie_factura = #{serieFactura},
	</if>	
	<if test="numeroFactura != null and numeroFactura != '' ">
		numero_factura = #{numeroFactura},
	</if>	
	<if test="mtrEstadoId != null ">
		mtr_estado_id = #{mtrEstado.id, jdbcType=INTEGER},
	</if>	
	<if test="mtrProveedorId != null ">
		mtr_proveedor_id = #{mtrProveedor.id, jdbcType=INTEGER},
	</if>	
	<if test="mtrMonedaId != null ">
		mtr_moneda_id = #{mtrMoneda.id, jdbcType=INTEGER},
	</if>	
	<if test="facContactoId != null ">
		fac_contacto_id = #{facContacto.id, jdbcType=INTEGER},
	</if>	
	<if test="mtrDetraccionId != null ">
		mtr_detraccion_id = #{mtrDetraccion.id, jdbcType=INTEGER},
	</if>	
	<if test="tipoFactura != null and tipoFactura != '' ">
		tipo_factura = #{tipoFactura},
	</if>	
	<if test="tipoComprobanteFactura != null and tipoComprobanteFactura != '' ">
		tipo_comprobante_factura = #{tipoComprobanteFactura},
	</if>	
	<if test="monto != null ">
		monto = #{monto, jdbcType=NUMERIC},
	</if>	
	<if test="montoOtrosCargos != null ">
		monto_otros_cargos = #{montoOtrosCargos, jdbcType=NUMERIC},
	</if>	
	<if test="montoIgv != null ">
		monto_igv = #{montoIgv, jdbcType=NUMERIC},
	</if>	
	<if test="montoFinal != null ">
		monto_final = #{montoFinal, jdbcType=NUMERIC},
	</if>	
	<if test="glosa != null and glosa != '' ">
		glosa = #{glosa},
	</if>	
	<if test="fechaFactura != null ">
		fecha_factura = #{fechaFactura, jdbcType=DATE},
	</if>	
	<if test="fechaEmision != null ">
		fecha_emision = #{fechaEmision, jdbcType=DATE},
	</if>	
	<if test="fechaCreacion != null ">
		fecha_creacion = #{fechaCreacion, jdbcType=DATE},
	</if>	
	<if test="existeContrato != null and existeContrato != '' ">
		existe_contrato = #{existeContrato},
	</if>	
	<if test="estadoRetornoSunat != null and estadoRetornoSunat != '' ">
		estado_retorno_sunat = #{estadoRetornoSunat},
	</if>	
	<if test="detalleServicio != null and detalleServicio != '' ">
		detalle_servicio = #{detalleServicio},
	</if>	
	<if test="indicadorConCertificado != null and indicadorConCertificado != '' ">
		indicador_con_certificado = #{indicadorConCertificado},
	</if>	
	<if test="concepto != null and concepto != '' ">
		concepto = #{concepto},
	</if>	
	<if test="codigoCorrelativoAdjunto != null and codigoCorrelativoAdjunto != '' ">
		codigo_correlativo_adjunto = #{codigoCorrelativoAdjunto},
	</if>	
	<if test="estado != null and estado != '' ">
		estado = #{estado},
	</if>	
	<if test="mtrSociedadId != null ">
		mtr_sociedad_id = #{mtrSociedad.id, jdbcType=INTEGER},
	</if>	
	<if test="fechaEstimadaPago != null ">
		fecha_estimada_pago = #{fechaEstimadaPago, jdbcType=DATE},
	</if>	
	<if test="fechaPago != null ">
		fecha_pago = #{fechaPago, jdbcType=DATE},
	</if>	
	<if test="fechaAprobacion != null ">
		fecha_aprobacion = #{fechaAprobacion, jdbcType=DATE},
	</if>	
    </set> 
	WHERE 
	  fac_factura_id = #{id, jdbcType=INTEGER}	
</update>


<delete id="deleteBean">
    DELETE FROM fac_factura
	WHERE 1 = 1
	<if test="id != null ">
		AND fac_factura_id = #{id, jdbcType=INTEGER}
	</if>	
	<if test="serieFactura != null and serieFactura != '' ">
		AND serie_factura = #{serieFactura}
	</if>	
	<if test="numeroFactura != null and numeroFactura != '' ">
		AND numero_factura = #{numeroFactura}
	</if>	
	<if test="mtrEstado != null and mtrEstado.id != null">
		AND mtr_estado_id = #{mtrEstado.id}
	</if>	
	<if test="mtrProveedor != null and mtrProveedor.id != null">
		AND mtr_proveedor_id = #{mtrProveedor.id}
	</if>	
	<if test="mtrMoneda != null and mtrMoneda.id != null">
		AND mtr_moneda_id = #{mtrMoneda.id}
	</if>	
	<if test="facContacto != null and facContacto.id != null">
		AND fac_contacto_id = #{facContacto.id}
	</if>	
	<if test="mtrDetraccion != null and mtrDetraccion.id != null">
		AND mtr_detraccion_id = #{mtrDetraccion.id}
	</if>	
	<if test="tipoFactura != null and tipoFactura != '' ">
		AND tipo_factura = #{tipoFactura}
	</if>	
	<if test="tipoComprobanteFactura != null and tipoComprobanteFactura != '' ">
		AND tipo_comprobante_factura = #{tipoComprobanteFactura}
	</if>	
	<if test="monto != null ">
		AND monto = #{monto, jdbcType=NUMERIC}
	</if>	
	<if test="montoOtrosCargos != null ">
		AND monto_otros_cargos = #{montoOtrosCargos, jdbcType=NUMERIC}
	</if>	
	<if test="montoIgv != null ">
		AND monto_igv = #{montoIgv, jdbcType=NUMERIC}
	</if>	
	<if test="montoFinal != null ">
		AND monto_final = #{montoFinal, jdbcType=NUMERIC}
	</if>	
	<if test="glosa != null and glosa != '' ">
		AND glosa = #{glosa}
	</if>	
	<if test="fechaFactura != null ">
		AND fecha_factura = #{fechaFactura, jdbcType=DATE}
	</if>	
	<if test="fechaEmision != null ">
		AND fecha_emision = #{fechaEmision, jdbcType=DATE}
	</if>	
	<if test="fechaCreacion != null ">
		AND fecha_creacion = #{fechaCreacion, jdbcType=DATE}
	</if>	
	<if test="existeContrato != null and existeContrato != '' ">
		AND existe_contrato = #{existeContrato}
	</if>	
	<if test="estadoRetornoSunat != null and estadoRetornoSunat != '' ">
		AND estado_retorno_sunat = #{estadoRetornoSunat}
	</if>	
	<if test="detalleServicio != null and detalleServicio != '' ">
		AND detalle_servicio = #{detalleServicio}
	</if>	
	<if test="indicadorConCertificado != null and indicadorConCertificado != '' ">
		AND indicador_con_certificado = #{indicadorConCertificado}
	</if>	
	<if test="concepto != null and concepto != '' ">
		AND concepto = #{concepto}
	</if>	
	<if test="codigoCorrelativoAdjunto != null and codigoCorrelativoAdjunto != '' ">
		AND codigo_correlativo_adjunto = #{codigoCorrelativoAdjunto}
	</if>	
	<if test="estado != null and estado != '' ">
		AND estado = #{estado}
	</if>	
	<if test="mtrSociedad != null and mtrSociedad.id != null">
		AND mtr_sociedad_id = #{mtrSociedad.id}
	</if>	
	<if test="fechaEstimadaPago != null ">
		AND fecha_estimada_pago = #{fechaEstimadaPago, jdbcType=DATE}
	</if>	
	<if test="fechaPago != null ">
		AND fecha_pago = #{fechaPago, jdbcType=DATE}
	</if>	
	<if test="fechaAprobacion != null ">
		AND fecha_aprobacion = #{fechaAprobacion, jdbcType=DATE}
	</if>	
</delete>

<delete id="deleteAll">
   DELETE FROM fac_factura
</delete>

</mapper>